<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="results"></div>
    <div id="buttons"></div>
    <script>
        function getComputerChoice() {
            let x = Math.random()*30;
            if (x <= 10) {
                return "rock";
            } else if (x <= 20) {
                return "paper";
            } else {
                return "scissors";
            }
        }
        // function getHumanChoice() {
        //     let answer = prompt("enter value (paper, rock or scissors): ");
        //     return answer;
        // }
        let humanScore = 0;
        let computerScore = 0;
        const results = document.querySelector(".results");
        let check = false;
        function playRound(humanChoice, computerChoice) {
            let message = "";
            if (humanChoice == computerChoice) {
                message += "Draw!";
            } else if (humanChoice == "paper") {
                if (computerChoice == "rock") {
                    message += "You win! Paper beats rock.";
                    humanScore++;
                } else {
                    message += "You lose! Scissors beats paper.";
                    computerScore++;
                }
            } else if (humanChoice == "rock") {
                if (computerChoice == "scissors") {
                    message += "You win! Rock beats scissors.";
                    humanScore++;
                } else {
                    message += "You lose! Paper beats rock."
                    computerScore++;
                }
            } else if (humanChoice == "scissors") {
                if (computerChoice == "paper") {
                    message += "You win! Scissors beats paper.";
                    humanScore++;
                } else {
                    message += "You lose! Rock beats scissors.";
                    computerScore++;
                }
            }
            if (humanScore == 5 && computerScore != 5 && !check) {
                results.innerHTML = "You win the game!";
                check = true;
            } else if (computerScore == 5 && humanScore != 5 && !check) {
                results.innerHTML = "Computer wins the game!";
                check = true;
            } else {    
                message += ` Your score: ${humanScore}, computer score: ${computerScore}`;
                results.innerHTML = message;
            }
        }

        const btnRock = document.createElement("button");
        btnRock.textContent = "ROCK";
        const btnPaper = document.createElement("button");
        btnPaper.textContent = "PAPER";
        const btnScissors = document.createElement("button");
        btnScissors.textContent = "SCISSORS";

        const container = document.querySelector("#buttons");
        
        container.appendChild(btnRock);
        container.appendChild(btnPaper);
        container.appendChild(btnScissors);

        results.innerHTML = "Your score: 0, computer's score: 0";

        btnRock.addEventListener("click", () => {
            playRound("rock", getComputerChoice());
        });
        btnPaper.addEventListener("click", () => {
            playRound("paper", getComputerChoice());
        });
        btnScissors.addEventListener("click", () => {
            playRound("scissors", getComputerChoice());
        });
        // function playGame() {
        //     for (i = 0; i<5; i++) {
        //         const humanSelection = getHumanChoice();
        //         const computerSelection = getComputerChoice();
        //         playRound(humanSelection, computerSelection);
        //     }
        //     if (humanScore == computerScore) {
        //         console.log("Draw!")
        //     } else if (humanScore > computerScore) {
        //         console.log("Congratulations! You win the game!");
        //     } else {
        //         console.log("You a loser!")
        //     }
        // }
        // playGame();
    </script>
</body>
</html>